using System;
using System.Security.Cryptography;
using System.Text;

var password = "usr_orquestador";
var key = "webdeveloptmentkfcteam";

// Pad or truncate key to 32 bytes for AES-256
var keyBytes = new byte[32];
var sourceKeyBytes = Encoding.UTF8.GetBytes(key);
Array.Copy(sourceKeyBytes, keyBytes, Math.Min(sourceKeyBytes.Length, keyBytes.Length));

using var aes = Aes.Create();
aes.Key = keyBytes;
aes.GenerateIV(); // Generate random IV

using var encryptor = aes.CreateEncryptor(aes.Key, aes.IV);
var plainBytes = Encoding.UTF8.GetBytes(password);
var cipherBytes = encryptor.TransformFinalBlock(plainBytes, 0, plainBytes.Length);

// Combine IV + encrypted data
var result = new byte[aes.IV.Length + cipherBytes.Length];
Array.Copy(aes.IV, 0, result, 0, aes.IV.Length);
Array.Copy(cipherBytes, 0, result, aes.IV.Length, cipherBytes.Length);

var encryptedPassword = Convert.ToBase64String(result);
Console.WriteLine($"Contrase√±a cifrada para 'usr_orquestador': {encryptedPassword}");
